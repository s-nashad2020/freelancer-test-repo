<!DOCTYPE html>
<html
  lang="en"
  dir="ltr"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{layout/base}"
>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <main layout:fragment="content">
      <div>
        <div class="wa-split wa-gap-s">
          <h1 th:text="${pageTitle}">Create Employee</h1>
          <wa-button size="small" variant="neutral" th:href="@{/employees}">
            <wa-icon name="arrow-left" slot="prefix"></wa-icon>
            Back to Employees
          </wa-button>
        </div>

        <!-- Error Display -->
        <div
          th:if="${error}"
          class="r-callout r-callout-danger"
          style="margin-bottom: var(--wa-space-m)"
        >
          <span th:text="${error}"></span>
        </div>

        <wa-card style="margin-bottom: var(--wa-space-m)">
          <div style="padding: var(--wa-space-xl)">
            <form
              id="employee-form"
              method="post"
              th:action="${employee != null ? '/employees/' + employee.id : '/employees'}"
              class="wa-grid"
              style="--min-column-size: 1000px"
            >
              <!-- Basic Information Section -->
              <div>
                <h3
                  style="
                    margin-bottom: var(--wa-space-m);
                    padding-bottom: var(--wa-space-s);
                    border-bottom: 1px solid var(--wa-color-outline-variant);
                  "
                >
                  Basic Information
                </h3>
                <div class="wa-grid" style="--min-column-size: 350px">
                  <wa-input
                    id="name"
                    name="name"
                    type="text"
                    required
                    th:value="${employee?.name}"
                    label="Name *"
                    placeholder="Enter employee name"
                  ></wa-input>

                  <wa-input
                    id="employeeNumber"
                    name="employeeNumber"
                    type="text"
                    th:value="${employee?.employeeNumber}"
                    label="Employee Number"
                    placeholder="Enter employee number"
                  ></wa-input>

                  <wa-input
                    id="email"
                    name="email"
                    type="email"
                    required
                    th:value="${employee?.email}"
                    label="Email Address *"
                    placeholder="Enter email address"
                  ></wa-input>

                  <wa-input
                    id="dateOfBirth"
                    name="dateOfBirth"
                    type="date"
                    th:value="${employee?.dateOfBirth}"
                    label="Date of Birth"
                    placeholder=""
                  ></wa-input>
                </div>
              </div>

              <!-- Contact Information Section -->
              <div>
                <h3
                  style="
                    margin-bottom: var(--wa-space-m);
                    padding-bottom: var(--wa-space-s);
                    border-bottom: 1px solid var(--wa-color-outline-variant);
                  "
                >
                  Contact Information
                </h3>
                <div class="wa-grid" style="--min-column-size: 350px">
                  <wa-input
                    id="personalPhone"
                    name="personalPhone"
                    type="tel"
                    th:value="${employee?.personalPhone}"
                    label="Personal Phone"
                    placeholder="Enter personal phone number"
                  ></wa-input>

                  <wa-input
                    id="workPhone"
                    name="workPhone"
                    type="tel"
                    th:value="${employee?.workPhone}"
                    label="Work Phone"
                    placeholder="Enter work phone number"
                  ></wa-input>
                </div>
              </div>

              <!-- Address Information Section -->
              <div>
                <h3
                  style="
                    margin-bottom: var(--wa-space-m);
                    padding-bottom: var(--wa-space-s);
                    border-bottom: 1px solid var(--wa-color-outline-variant);
                  "
                >
                  Address Information
                </h3>
                <div class="wa-grid" style="--min-column-size: 350px">
                  <wa-input
                    id="addressPart1"
                    name="addressPart1"
                    type="text"
                    th:value="${employee?.address?.addressPart1}"
                    label="Address Field 1"
                    placeholder="Enter street address"
                  ></wa-input>

                  <wa-input
                    id="addressPart2"
                    name="addressPart2"
                    type="text"
                    th:value="${employee?.address?.addressPart2}"
                    label="Address Field 2"
                    placeholder="Enter additional address info"
                  ></wa-input>

                  <wa-input
                    id="city"
                    name="city"
                    type="text"
                    th:value="${employee?.address?.city}"
                    label="City"
                    placeholder="Enter city"
                  ></wa-input>

                  <wa-input
                    id="postalCode"
                    name="postalCode"
                    type="text"
                    th:value="${employee?.address?.postalCode}"
                    label="Postal Code"
                    placeholder="Enter postal code"
                  ></wa-input>

                  <wa-select
                    id="addressCountryCode"
                    name="addressCountryCode"
                    th:value="${employee?.address?.countryIsoCode}"
                    label="Country"
                  >
                    <wa-option value="NO">Norway</wa-option>
                    <wa-option value="SE">Sweden</wa-option>
                    <wa-option value="DK">Denmark</wa-option>
                    <wa-option value="FI">Finland</wa-option>
                    <wa-option value="US">United States</wa-option>
                    <wa-option value="GB">United Kingdom</wa-option>
                    <wa-option value="DE">Germany</wa-option>
                    <wa-option value="FR">France</wa-option>
                  </wa-select>

                  <wa-input
                    id="administrativeDivisionCode"
                    name="administrativeDivisionCode"
                    type="text"
                    th:value="${employee?.address?.administrativeDivisionCode}"
                    label="State/Province"
                    placeholder="Enter state or province"
                  ></wa-input>
                </div>
              </div>

              <!-- Form Actions -->
              <div
                style="
                  grid-column: 1 / -1;
                  display: flex;
                  gap: var(--wa-space-s);
                  justify-content: flex-end;
                  padding-top: var(--wa-space-l);
                  border-top: 1px solid var(--wa-color-outline-variant);
                  margin-top: var(--wa-space-l);
                "
              >
                <wa-button
                  size="medium"
                  variant="neutral"
                  th:href="@{/employees}"
                >
                  Cancel
                </wa-button>
                <wa-button size="medium" variant="brand" type="submit">
                  <span
                    th:text="${employee != null ? 'Update Employee' : 'Create Employee'}"
                    >Create Employee</span
                  >
                </wa-button>
              </div>
            </form>
          </div>
        </wa-card>
      </div>
    </main>
  </body>
</html>
